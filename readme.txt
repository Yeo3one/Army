# 정책 제안: 감염병 검사 기준 개선 / 입영 전 감염병 예측 검사 강화

# 병무청 데이터 
33번: B형간염 유병률 // 혈압, BMI, Glucose 등 검사 수치
-> Glucose 문자열 정제, BMI 재계산, 이상치 제거

44번: 잠복결핵 유병률 // 신장/체중/IGRA 검사 수치
-> IGRA 수치 기반 양성/음성 이진화, 날짜/연령 추출

59번: 검사 실적 및 청별 현황 // 지역, 검사 건수
-> 지역별 그룹화, 연도/비율 계산

32번: 병역판정결과(4~6급) // 질병명, 결과 등급
-> 질병명 분류 정리, 등급별 분포 파악

75번: 결핵 검사 효과 분석 // IGRA 검사값, 판정결과
-> IGRA 수치 비교 및 양성률 추출

# 32 결과값
부령조항과             부령조항     질병명  계  4급  5급  6급 부령코드  계_재계산
0    내과        757 019-나     당뇨병  1   0   1   0  757      1
1    내과        851 019-가     당뇨병  1   1   0   0  851      1
2    내과        851 033-다   사구체신염  1   0   1   0  851      1
3    내과     872 006-라-1)  척추관절병증  1   1   0   0  872      1
4    내과  872 011-가-2)-가)  그레이브씨병  6   6   0   0  872      6


# 33 결과값
 'ALT' 컬럼은 존재하지만 모든 값이 비어 있습니다 (4/4 NaN).
 '간염결과' 컬럼은 존재하지만 모든 값이 비어 있습니다 (4/4 NaN).
 'Plt' 컬럼은 존재하지만 모든 값이 비어 있습니다 (4/4 NaN).
   검사년도신장   체중  bmi  수축기(혈압)  이완기(혈압)  AST  ALT  간염결과   Glucose  Plt
0    2000  177    0    185.0    117.0   85  NaN   NaN  Negative  NaN
1    2000  147    0    177.0    137.0   78  NaN   NaN  Negative  NaN
2    2000  157    0    152.0      NaN   68  NaN   NaN  Negative  NaN
3    2000  187    0    133.0      NaN   38  NaN   NaN  Negative  NaN

# 44 결과값
 검사반    생년  검사연도     신장  ...  단구(MONO)  호산구(EOSI)  호염구(BASO)  연령
0  경기북부  2001  2021  168.9  ...       4.4        1.0        0.6  20
1    수원  2001  2021  170.9  ...       3.5        3.1        0.9  20
2    수원  2001  2021  168.2  ...       3.9        2.2        1.2  20
3    수원  2001  2021  170.3  ...       2.7        0.6        1.0  20
4    수원  2001  2021  170.3  ...       5.8        2.6        0.5  20

# 59 결과값
 지역   검사인원     음성  음성비율   양성  양성비율  판독불명  판독불명비율    연도
0    서울  49648  48797  98.3  838   1.7    13       0  2023
1  부산울산  21566  21317  98.8  244   1.1     5       0  2023
2  대구경북  23235  22994  99.0  240   1.0     1       0  2023
3    경인  29303  28737  98.1  556   1.9    10       0  2023
4  광주전남  15453  15182  98.2  269   1.7     2       0  2023
               검사인원            음성  ...  판독불명비율      연도
count     14.000000     14.000000  ...    14.0    14.0
mean   17468.500000  17195.571429  ...     0.0  2023.0
std    13050.771606  12825.370798  ...     0.0     0.0
min     1989.000000   1963.000000  ...     0.0  2023.0
25%     6892.750000   6783.750000  ...     0.0  2023.0
50%    18300.000000  18012.000000  ...     0.0  2023.0
75%    22817.750000  22574.750000  ...     0.0  2023.0
max    49648.000000  48797.000000  ...     0.0  2023.0

# 지역별 검사 인원 대비 양성률 계산
df['양성률(%)'] = df['양성'] / df['검사인원'] * 100
# 지역별 정렬
df.sort_values(by='양성률(%)', ascending=False, inplace=True)

# 75 결과값
[결과 요약]
총 검사자 수: 2명
양성 판정자 수: 0명
양성률: 0.00%

[전처리된 데이터 샘플]
     입영연도    생년     검사연월    위탁검사결과  ...  TBAG결과내용2  MITOGEN결과내용  TBAGNIL결과내용  TBAGNIL결과내용2
0     NaN  2003  2022-10  Negative  ...       0.03        41.64         0.00           0.0
1  2023.0  2003  2022-03  Negative  ...       0.02        35.53         0.02           0.0





# 결핵 데이터 

1번: 결핵 신환자 수 및 유병률 (2001~2024)
20대 남성 결핵 환자 수 // 군 연령대 추정 기준
전국 연도별 유병률 추이 // 병무청 검사 결과와 비교용 시계열
남녀/연령대별 유병률 차이 // 입영자 특성과 감염 취약성 비교

3, 4, 7, 8, 9번: 시도/성별/연령별 결핵환자 통계
지역별 유병률 상위권 // 병무청 청 지역명과 매칭 가능 (ex: 서울 ↔ 서울청)
연령대별 고위험 집단 // 20대 남성 유병률 확인
결핵종류별 신환자 수 // 폐결핵 중심 분석 가능성


1번: 결핵(신)환자 수 및 유율 2001–2024
전국 연도별 유병률 분석
-> 연도/총 환자수/유병률 수치 정리

     연도  결핵환자_결핵환자수  결핵환자_결핵환자율  신환자_신환자수  신환자_신환자율
0  2001       46082        96.3     34123      71.3
1  2002       43040        89.4     32010      66.5
2  2003       40500        83.8     30687      63.5
3  2004       41735        86.1     31503      65.0
4  2005       46969        96.5     35269      72.4

2번: 과거 치료력 따른 결핵 환자 수 2001–2024
재감염자/치료 실패자 추이
-> 그룹화 및 비율 계산

===========================================================
처리된 데이터 미리보기
============================================================
     연도  결핵환자_수  신환자_수  재치료자_수  재치료자_재발  재치료자_실패후  재치료자_중단후  재치료자_불명확결과  재치료자_불명확이력  재치료자_기타
0  2001   46082  34123   11679     6742       500       914         NaN         NaN      280
1  2002   43040  32010   10797     6270       429       772         NaN         NaN      233
2  2003   40500  30687    9647     5693       359       713         NaN         NaN      166
3  2004   41735  31503    9914     5691       405       803         NaN         NaN      318
4  2005   46969  35269    9012     5891       363       711         NaN         NaN     2688
5  2006   46284  35361    8535     5558       281       773         NaN         NaN     2388
6  2007   45597  34710    8299     5403       314       784         NaN         NaN     2588
7  2008   44174  34157    7917     5227       289       734         NaN         NaN     2100
8  2009   47302  35845    8655     5624       309       896         NaN         NaN     2802
9  2010   48101  36305    8794     5637       267       949         NaN         NaN     3002

============================================================
데이터 품질 분석
============================================================
데이터 형태: (24, 10)
메모리 사용량: 2.00 KB

결측값 현황:
            결측값_개수  결측값_비율(%)
재치료자_불명확결과      13      54.17
재치료자_불명확이력      13      54.17

데이터 타입:
연도              int64
결핵환자_수          int64
신환자_수           int64
재치료자_수          int64
재치료자_재발         int64
재치료자_실패후        int64
재치료자_중단후        int64
재치료자_불명확결과    float64
재치료자_불명확이력    float64
재치료자_기타         int64
dtype: object

기본 통계 (수치형 컬럼):
                연도        결핵환자_수         신환자_수        재치료자_수  ...     재치료자_중단후  재치료자_불명확결과  재치료자_불명확이력      재치료자_기타
count    24.000000     24.000000     24.000000     24.000000  ...    24.000000   11.000000   11.000000    24.000000
mean   2012.500000  38522.666667  29837.583333   6971.458333  ...   670.666667  216.545455  467.545455  1499.333333
std       7.071068  10294.708606   7721.724221   2724.362071  ...   268.392261   70.084754  127.979970   857.531374
min    2001.000000  17944.000000  14412.000000   2256.000000  ...   171.000000  149.000000  252.000000   166.000000
25%    2006.750000  32923.000000  25780.000000   5102.000000  ...   504.250000  162.500000  370.500000   841.250000
50%    2012.500000  42387.500000  32095.500000   7833.500000  ...   753.000000  180.000000  452.000000  1490.000000
75%    2018.250000  46132.500000  35292.000000   8848.500000  ...   830.750000  248.500000  558.000000  2134.250000
max    2024.000000  50491.000000  39557.000000  11679.000000  ...  1165.000000  347.000000  655.000000  3002.000000

[8 rows x 10 columns]

============================================================
최근 5년 데이터
============================================================
      연도  결핵환자_수  신환자_수  재치료자_수  재치료자_재발  재치료자_실패후  재치료자_중단후  재치료자_불명확결과  재치료자_불명확이력  재치료자_기타
19  2020   25350  19933    3709     3193        39       328       149.0       388.0     1320
20  2021   22904  18335    3188     2745        40       246       157.0       353.0     1028
21  2022   20383  16264    2910     2526        25       195       164.0       338.0      871
22  2023   19540  15640    2595     2168        33       233       161.0       553.0      752
23  2024   17944  14412    2256     1832        32       171       221.0       554.0      722

============================================================
연도별 결핵환자 수 추이 (최근 10년)
============================================================
  연도  결핵환자_수
2015   40847
2016   39245
2017   36044
2018   33796
2019   30304
2020   25350
2021   22904
2022   20383
2023   19540
2024   17944

3번: 시도별 성별 연령별 결핵(신)환자 수 및 유율 2024
지역/성별/연령대 비교
-> 연령/성별 매핑 및 피벗 정리

============================================================
지역별 데이터 검증
============================================================
데이터 형태: (108, 39)
지역 수: 18
지역 목록: 전국, 서울, 부산, 대구, 인천, 광주, 대전, 울산, 세종, 경기, 강원, 충북, 충남, 전북, 전남, 경북, 경남, 제주

환자유형별 데이터 수:
- 결핵환자: 54개
- 신환자: 54개

성별 분포:
- 계: 36개
- 남: 36개
- 여: 36개

✅ 결측값 없음

✅ 결핵환자 합계 검증:
  전국: 17,944명
  지역합계: 17,944명
  차이: 0명 (0.0%)

✅ 신환자 합계 검증:
  전국: 14,412명
  지역합계: 14,412명
  차이: 0명 (0.0%)

============================================================
지역별 요약 통계 (결핵환자 상위 10개 지역)
============================================================
시도  총_환자수  발생률     남성_비율     고령_비율
경기   4073  0.0 64.326050 50.797938
서울   3012  0.0 66.102258 53.685259
경북   1403  0.0 55.024947 72.202423
부산   1141  0.0 63.102542 60.911481
경남   1087  0.0 62.373505 56.945722
전남   1007  0.0 59.384310 71.400199
인천    950  0.0 61.578947 53.473684
대구    899  0.0 57.174638 63.626251
충남    873  0.0 62.313860 63.459336
전북    731  0.0 63.748290 67.989056

============================================================
전국 연령대별 결핵 환자 분포 분석
============================================================

📊 결핵환자 연령대별 분포:
총 환자 수: 17,944명

상위 5개 연령대:
- 80세: 4,904명 (27.3%, 발생률 0.0)
- 75-79세: 1,936명 (10.8%, 발생률 0.0)
- 65-69세: 1,882명 (10.5%, 발생률 0.0)
- 70-74세: 1,812명 (10.1%, 발생률 0.0)
- 60-64세: 1,790명 (10.0%, 발생률 0.0)

📊 신환자 연령대별 분포:
총 환자 수: 14,412명

상위 5개 연령대:
- 80세: 4,060명 (28.2%, 발생률 0.0)
- 75-79세: 1,567명 (10.9%, 발생률 0.0)
- 65-69세: 1,440명 (10.0%, 발생률 0.0)
- 70-74세: 1,424명 (9.9%, 발생률 0.0)
- 60-64세: 1,393명 (9.7%, 발생률 0.0)

4번: 시군구별 결핵(신)환자 수 2024
세부 지역 분포
-> 시군구 → 광역시도 매핑 정리

7번: 성별 연령별 결핵(신)환자 수 및 유율 2011–2024
시계열 분석
-> 년도별 성별/연령대 유병률 변화

8번: 시도별 결핵(신)환자 수 및 유율 2011–2024
지역별 유병률 추세
-> 연도별 지역별 비교

9번:  결핵종류별 환자 수 및 유율 2011–2024
폐결핵 등 세부 질환 비율
-> 종류별 필터 및 유병률 계산

